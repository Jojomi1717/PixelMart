<!DOCTYPE html>
<html langue="fr">
<t√™te>
    <m√©ta jeu de caract√®res="UTF-8">
       <link rel="icon" href="ultimelogo.webp" type="image/webp">
    <m√©ta nom="fen√™tre d'affichage"contenu="largeur=largeur-de-l'appareil, √©chelle-initiale=1,0">
    <titre>Tirage au Sort - S√©lection de Trois Gagnants</titre>
    <style>
        corps {
            famille de polices : Arial, sans-serif ;
            couleur d'arri√®re-plan : #f5f5f5 ;
            alignement du texte : centre ;
            marge: 0;
            rembourrage : 0 ;
        }

        .conteneur {
            largeur : 80 % ;
            marge: 50px auto;
            rembourrage : 20 px ;
            couleur d'arri√®re-plan : blanc ;
            bo√Æte-ombre : 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            couleur: #333;
        }

        zone de texte {
            largeur : 100 % ;
            hauteur : 150px ;
            marge: 20px 0;
            rembourrage : 10 px ;
            bordure : 1px solide #ccc ;
            rayon de la bordure : 4 px ;
            taille de police : 16 px ;
        }

        bouton {
            rembourrage : 10 px 20 px ;
            taille de police : 18 px ;
            couleur d'arri√®re-plan : #4CAF50 ;
            couleur : blanc ;
            bordure : aucune ;
            rayon de la bordure : 4 px ;
            curseur : pointeur ;
        }

        bouton:survoler {
            couleur d'arri√®re-plan : #45a049 ;
        }

        #r√©sultat {
            taille de police : 20 px ;
            couleur: #333;
            marge sup√©rieure : 20 px ;
        }

        #chargement {
            affichage : aucun ;
            taille de police : 24 px ;
            couleur: #888;
            marge sup√©rieure : 20 px ;
        }
    </style>
</t√™te>
<corps>
    <div classe="r√©cipient">
        <h1>Jeu Concours - Tirage au Sort</h1>
        <zone de texte identifiant="participants"espace r√©serv√©="Entrez les noms des participants, un par ligne"></zone de texte>
        <bouton sur clic="tirerAuSort()">Tirer au sort</bouton>
        <div identifiant="chargement">Chargement...</div>
        <div identifiant="r√©sultat"></div>
    </div>

    <!-- Int√©gration de la biblioth√®que toile-confetti -->
    <sc√©nario source="toile-confetti.browser.min.js"></sc√©nario>

    <sc√©nario>
        fonction tirerAuSort() {
            // Masquer le bouton et afficher le message de chargement
            document.s√©lecteur de requ√™te('bouton').style.afficher = 'aucun';
            document.obtenirElementById('chargement').style.afficher = 'bloc';

            d√©finirTimeout(fonction() {
                // Le nom sp√©cifique que tu veux privil√©gier
                constante nomSp√©cifique = "Roy Savi";

                // R√©cup√©rer le contenu de la zone de texte
                constante zone de texte = document.obtenirElementById(¬´ participants ¬ª).valeur;

                // Diviser le texte en une liste de noms, en s√©parant par les sauts de ligne
                laisser participants = zone de texte.diviser('\n').filtre(nom => nom.garniture() !== " ");

                laisser gagnants = [];

                // S√©lectionner les gagnants
                pour (laisser je = 0; je < 3; je++) {
                    laisser gagnant;
                    si (participants.comprend(nomSp√©cifique) && !gagnants.comprend(nomSp√©cifique)) {
                        gagnant = nomSp√©cifique; // Choisir le nom sp√©cifique comme gagnant
                        participants = participants.filtre(nom => nom !== nomSp√©cifique); // Supprimer le gagnant de la liste
                    } autre {
                        gagnant = participants[Math√©matiques.sol(Math√©matiques.al√©atoire() * participants.longueur)];
                        participants = participants.filtre(nom => nom !== gagnant); // Supprimer le gagnant de la liste
                    }
                    gagnants.pousser(gagnant);
                }

                // Masquer le message de chargement
                document.obtenirElementById('chargement').style.afficher = 'aucun';

                // Afficher les r√©sultats des gagnants
                constante r√©sultatDiv = document.obtenirElementById('r√©sultat');
                r√©sultatDiv.HTML interne = '';

                gagnants.pour chaque((gagnant, indice) => {
                    d√©finirTimeout(() => {
                        r√©sultatDiv.HTML interne += `<p>üéâ Gagnant${indice + 1}:${gagnant}üéâ</p>`;
                        lancerConfettis();
                    }, indice * 6000); // 6 secondes d'intervalle entre chaque gagnant
                });
            }, 5000); // Attendez 5 secondes
        }

        fonction lancerConfettis() {
            constante dur√©e = 5 * 1000; // 5 secondes de pluie de confettis
            constante animationFin = Date.maintenant() + dur√©e;
            constante d√©fauts = { d√©marrerVelocity:30, propag√©:360, tiques:60, z-index:0 };

            fonction al√©atoireDansRange(min, max) {
                retour Math√©matiques.al√©atoire() * (max - min) + min;
            }

            constante intervalle = d√©finirIntervalle(fonction() {
                constante temps restant = animationFin - Date.maintenant();

                si (temps restant <= 0) {
                    retour Intervalle d'effacement(intervalle);
                }

                constante nombre de particules = 50 * (temps restant / dur√©e);

                // Depuis le centre
                confettis(Objet.attribuer({}, d√©fauts, {
                    nombre de particules,
                    origine:{ x:al√©atoireDansRange(0,1, 0,3), et:Math√©matiques.al√©atoire() - 0,2 }
                }));
                confettis(Objet.attribuer({}, d√©fauts, {
                    nombre de particules,
                    origine:{ x:al√©atoireDansRange(0,7, 0,9), et:Math√©matiques.al√©atoire() - 0,2 }
                }));
            }, 250);
        }
    </sc√©nario>
</corps>
</html>
